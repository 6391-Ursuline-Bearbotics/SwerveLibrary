buildscript {
    repositories {
        maven {
            url 'https://plugins.gradle.org/m2/'
        }
    }
    if (rootProject == project) {
        dependencies {
            classpath "edu.wpi.first:GradleRIO:2019.4.1"
        }
    }
}

plugins {
    // Support for the java library
    id 'java-library'
}

if (rootProject == project) {
    apply plugin: 'edu.wpi.first.GradleRIO'
}

repositories {
    // Use Maven for resolving dependencies
    mavenCentral()
}

dependencies {
    if (rootProject == project) {
        api wpi.deps.wpilib()
    }

    // Use JUnit Jupiter API for testing.
    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.4.2'

    // Use JUnit Jupiter Engine for testing.
    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.4.2'
}

test {
    // Use junit platform for unit tests
    useJUnitPlatform()
}

// Only add a wrapper block if we are the root project
if (rootProject == project) {
    wrapper {
        distributionType = Wrapper.DistributionType.ALL
        gradleVersion = '5.1'
    }
}